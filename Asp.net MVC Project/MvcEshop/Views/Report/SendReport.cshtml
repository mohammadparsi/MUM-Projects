@{
    ViewBag.Title = Resources.DisplayNames.Send + " " + Resources.DisplayNames.DocFindingReport;
    ViewBag.LayoutType = "DataEntryForm";
    string strSpace = " ";
}









<div class="container">
    <div class="col-md-6 col-lg-6 col-sm-6">

        <div class="box" style="min-height:316px;">
            <div>
                <div class="title">
                    @Resources.DisplayNames.SendTo @strSpace @Resources.DisplayNames.Panel @strSpace @Resources.DisplayNames.Customer
                </div>
            </div>
            <div class="form">

                <div style="height:30px;">
                    <div id="divMessageBox" class="alert alert-success" style="display:none; font-weight:bold;">
                        <span class="glyphicon glyphicon-ok" style="color:orange;font-weight:bold; font-size:20px; margin-left:20px;"></span>
                        <div id="divMessage"></div>
                    </div>
                </div>
                <div style="height:30px;">
                    <div id="divProgress" style="display:none;">
                        <img src="~/Content/Files/Loaders/ajax-loader.gif" />
                        @Resources.DisplayNames.Searching
                    </div>
                </div>
                <div style="margin-top:40px; ">
                    @using (Ajax.BeginForm(
"GetCustomersSearchResults", "Report",
        new AjaxOptions
        {
            UpdateTargetId = "divCustomerRecord",
            LoadingElementId = "divProgress",
            HttpMethod = "Post",
            InsertionMode = InsertionMode.Replace
        }
))
                    {
                        <div class="input-group">
                            <span class="input-group-btn">
                                <button type="submit" class="btn btn-primary KendoGridToolbarButton" style="height:35px;">
                                    <span class="glyphicon glyphicon-search KendoGridToolbarButtonIcon"></span>

                                </button>
                            </span>
                            @*<input type="text" id="customerName" class="form-control" placeholder="Search for...">*@
                            @Html.TextBox("customerName", null, new { @placeholder = string.Format(Resources.Messages.PleaseTypePartOfSth , Resources.DisplayNames.Name + " " + Resources.DisplayNames.Customer) })
                        </div><!-- /input-group -->

                        @*<input type="submit" value="جستجو" />*@


                    }
                </div>

                <div id="divCustomerRecord" style="margin-top:20px; margin-bottom:100px;"></div>

            </div>
        </div>




    </div>

    <div class="col-md-6 col-lg-6 col-sm-6">

        <div class="box" style="min-height:316px;">
            <div>
                <div class="title">
                    @Resources.DisplayNames.SendTo @strSpace @Resources.DisplayNames.Email
                </div>
            </div>
            <div class="form">

                <div style="height:30px;">
                    <div id="divProgress2" style="display:none;">
                        <img src="~/Content/Files/Loaders/ajax-loader.gif" />
                        @Resources.DisplayNames.Sending
                    </div>
                </div>

                <div style="margin-top:70px; ">
                    @using (Ajax.BeginForm(
"GetSendingConfirmationPartialView", "Report",
        new AjaxOptions
        {
            UpdateTargetId = "divSentItem",
            LoadingElementId = "divProgress2",
            HttpMethod = "Post",
            InsertionMode = InsertionMode.InsertAfter
        }
))
                    {
                        <div class="input-group">
                            <span class="input-group-btn">
                                <button type="submit" class="btn btn-primary KendoGridToolbarButton" style="height:35px;">
                                    <span class="glyphicon glyphicon-plus KendoGridToolbarButtonIcon"></span>

                                </button>
                            </span>
                            @*<input type="text" id="customerName" class="form-control" placeholder="Search for...">*@
                            <input class="text-box single-line" data-val="true" data-val-email="رایانامه معتبر نیست."  data-val-length-max="250" data-val-required="خواهشمند است رایانامه را وارد کنید." id="email" name="email" type="email" value="" placeholder="@string.Format(Resources.Messages.PleaseType , Resources.DisplayNames.Email)" />
                            

                        </div><!-- /input-group -->
    <div class="validationMessage">
        <span class="field-validation-valid" data-valmsg-for="email" data-valmsg-replace="true"></span>
    </div>
                        @*<input type="submit" value="جستجو" />*@


                    }
                </div>

                <div id="divSentItem" style="margin-top:20px; margin-bottom:100px;"></div>

                @*<div style="height:30px;">
                        <div id="divMessageBox2" class="alert alert-success" style="display:none; font-weight:bold;">
                            <span class="glyphicon glyphicon-ok" style="color:orange;font-weight:bold; font-size:20px; margin-left:20px;"></span>
                            <div id="divMessage2"></div>
                        </div>
                    </div>*@




            </div>
        </div>



    </div>

</div>
@*<div class="container"></div>*@


@*<button class="clickMe">Click Me!</button>*@


@*<script>
        $(function () {
            $(".JsonAction").on("click", function () {
                $("<button>",
                  {
                      class: "JsonAction",
                      text: "Click Me!"
                  }
                ).appendTo("body");
            });
        });
    </script>

    <script>
        $(function () {
            $(document).on("click", ".JsonAction", function () {
                $("<button>",
                  {
                      class: "JsonAction",
                      text: "Click Me!"
                  }
                ).appendTo("body");
            });
        });
    </script>*@
<script>
    $(function () {
        $(document).on('click', '.JsonAction', function (e) {

            e.preventDefault();
            var varId = e.target.id;

            //var varLastName = $("input#LastName").val();
            //var varFirstName = $("input#FirstName").val();


            var varData =
                '{"customerId":"' + varId + '"}';

            //var varData =
            //    '{"Id":"' + varId + '"}';

            $.ajax({
                type: "POST",
                url: "AddReceiver",
                data: varData,
                dataType: "json",
                contentType: "application/json; charset=utf-8",

                success: function (e) {
                    $("#divMessage").text(e.MyMessage);
                    //$("#divMessage").removeClass("hidden");
                    $("#divMessageBox").fadeIn(3000);
                    $("#divMessageBox").delay(3000).fadeOut(4000);


                },

                error: function (e) {
                    $("#divMessage").text("error on sending/recieving data!");

                }

            });
        });
    });
</script>
@*<script>
        $(document).ready(function () {
            $(".JsonAction").click(function (e) {
                var varId = e.target.id;

                //var varLastName = $("input#LastName").val();
                //var varFirstName = $("input#FirstName").val();


                var varData =
                    '{"customerId":"' + varId + '"}';

                //var varData =
                //    '{"Id":"' + varId + '"}';

                $.ajax({
                    type: "POST",
                    url: "AddReceiver",
                    data: varData,
                    dataType: "json",
                    contentType: "application/json; charset=utf-8",

                    success: function (e) {
                        $("#divMessage").text(e.MyMessage);



                    },

                    error: function (e) {
                        $("#divMessage").text("error on sending/recieving data!");

                    }
                })
            })


        })
    </script>*@

