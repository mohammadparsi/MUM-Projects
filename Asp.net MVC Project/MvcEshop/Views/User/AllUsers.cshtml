@model IEnumerable<MvcEshop.Models.User>

@{
    ViewBag.Title = Resources.DisplayNames.List + " " + Resources.DisplayNames.Users;
    ViewBag.LayoutType = "Grid";

    
    MyRoleProvider oMyRoleProvider = new MyRoleProvider();
    string strSpace = " ";

    System.Web.HttpContext.Current.Session["CurrentSiteMap"] = string.Empty;
}



<div class="k-rtl">

    @(Html.Kendo().Grid(Model)
              .Name("Grid")
              .Columns(columns =>
                  {
                      columns.Bound(model => model.FullName).Title(Resources.DisplayNames.FullName).Width(100);
                      //columns.Bound(model => model.IsActive).Title(Resources.DisplayNames.Active).Width(50);
                      columns.Bound(model => model.Email).Title(Resources.DisplayNames.Email).Width(110);


                      columns.Bound(item => @item.UserId).Title(Resources.DisplayNames.GiveResponsibilities).Filterable(false).Groupable(false)
                                                      .Template(@<text>
                            <div class="text-center">
                                @*@if (oMyRoleProvider.IsUserInRole(@item.Email, "SystemExpert"))
                                    {*@
                                <a href="/User/EditResponsibilities/@item.UserId" data-toggle="tooltip" data-placement="right" title=@Resources.DisplayNames.GiveResponsibilities>
                                    <img src="~/Content/Files/Icons/Groups-Meeting-Light-icon.png" />
                                </a>

                                @*}*@

                            </div>
                                                    </text>).Width(100);



                      columns.Bound(item => @item.UserId).Title(Resources.DisplayNames.Activate + "/" + Resources.DisplayNames.Deactivate).Filterable(false).Groupable(false)
                                                      .Template(@<text>
                            <div class="text-center">
                                @if (@item.IsActive == true)
                                {
                                    <a href="/User/Deactivate/@item.UserId" data-toggle="tooltip" data-placement="right" title="غیرفعال سازی">
                                        <img src="~/Content/Files/Icons/lamp-active-icon.png" />
                                    </a>

                                }
                                else
                                {
                                    <a href="/User/Activate/@item.UserId" data-toggle="tooltip" data-placement="right" title="فعال سازی">
                                        <img src="~/Content/Files/Icons/lamp-inactive-icon.png" />
                                    </a>
                                }

                            </div>
                                                    </text>).Width(100);

                      columns.Bound(item => @item.UserId).Title(Resources.DisplayNames.Delete).Filterable(false).Groupable(false)
                                                     .Template(@<text>
                            <a href="/User/Delete/@item.UserId">
                                <img src="~/Content/Files/Icons/Trash-empty-icon.png" />
                            </a>
                                                    </text>).Width(40);

                      {
                        @*columns.Bound(item => @item.UserId).Title(Resources.DisplayNames.OperationReport).Filterable(false).Groupable(false)
                                                           .Template(@<text>
                            <a href="/Assignment/Inbox/@item.UserId">
                                <img src="~/Content/Files/Icons/reports-icon.png" />
                            </a>
                                                        </text>).Width(70);*@
                      }
                  })
                    .ToolBar(toolbar =>
                        {
                            toolbar.Template(@<text>
                                <a href="/User/SendGroupEmail" class="btn btn-primary KendoGridToolbarButton" role="button">
                                    <img src="~/Content/Files/Icons/new-message-icon.png" />
                                    @Resources.DisplayNames.GroupEmailSending
                                </a>

                                <a href="/User/AddSystemExpert" class="btn btn-primary KendoGridToolbarButton" role="button">
                                    <span class="glyphicon glyphicon-plus KendoGridToolbarButtonIcon"></span>
                                    @Resources.DisplayNames.Add @strSpace @Resources.DisplayNames.SystemExpert
                                </a>
                            </text>


        );

                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   .Groupable()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   .Pageable()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   .Sortable()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   .Scrollable()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   .Filterable()
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   .DataSource(dataSource => dataSource
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               .Server()

                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               .Model(model => model.Id(item => item.UserId))
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               )
    )
    
</div>