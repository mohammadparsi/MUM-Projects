@model MvcEshop.ViewModels.User.LoginViewModel

@{
    ViewBag.Title = Resources.DisplayNames.HomePage;
    string strHtmlContent = string.Empty;
    string strCssClassForLoginDiv = string.Empty;
    string strCssClassForSystemIntroductionDiv = string.Empty;

    if (User.Identity.IsAuthenticated==false)
    {
        strCssClassForSystemIntroductionDiv = "col-md-7";
        strCssClassForLoginDiv = "col-md-5";
        
    }
        
    else
    {
        strCssClassForSystemIntroductionDiv = "col-md-12";
        strCssClassForLoginDiv = "hidden";
    }
    
    }



<div class="box" style="margin:10px auto; padding:5px 5px;">
    <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
        <!-- Indicators -->
        @*<ol class="carousel-indicators">
                <li data-target="#carousel-example-generic" data-slide-to="0" class="active"></li>
                <li data-target="#carousel-example-generic" data-slide-to="1"></li>
                <li data-target="#carousel-example-generic" data-slide-to="2"></li>
            </ol>*@
        <!-- Wrapper for slides -->
        <div class="carousel-inner">
            @*<div class="item active">
                    <img src="~/Content/Files/Images/SlideShow/document-management-software.jpg" class="SlideShowImage" alt="slide1" />
                    <div class="carousel-caption">
                        ...
                    </div>
                </div>*@
            @{
                string strSlideShowImagesFolderPath =
                       System.Web.Hosting.HostingEnvironment.MapPath
                       ("~/Content/Files/Images/SlideShow");

                string[] filePaths = System.IO.Directory.GetFiles(strSlideShowImagesFolderPath);
                int intOrder=0;
                foreach (string filePath in filePaths)
                {
                    intOrder++;
                    
                    <text>
                        @Html.Partial("_Partial_SlideShowItem", 
                        new MvcEshop.ViewModels.Shared.SlideShowItemViewModel(System.IO.Path.GetFileName(filePath), intOrder))
                </text>
                }

            }

            @*<div class="item active">
                <img src="~/Content/Files/Images/SlideShow/slider1.jpg" class="SlideShowImage" style="width:100%; height:auto;" alt="slide2" />
                <div class="carousel-caption">
                    ...
                </div>
            </div>
            <div class="item">
                <img src="~/Content/Files/Images/SlideShow/slider2.jpg" class="SlideShowImage" style="width:100%; height:auto;" alt="slide3" />
                <div class="carousel-caption">
                </div>
            </div>*@

        </div>
        <!-- Controls -->
        @*<a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left"></span>
            </a>
            <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right"></span>
            </a>*@
    </div>
</div>



<div class="row" style="margin:0px; padding:0px;">
    <div class="@strCssClassForSystemIntroductionDiv">
        <div class="box" style="min-height:316px;">
            <div>
                <div class="title">
                    سامانه‌ی همانندجو
                </div>
            </div>

            <div style="font-size: 10pt !important; margin-top: 9px !important; line-height:30px !important;" class="text">
                @{
                    using (MvcEshop.Models.DFEntities oDFEntities = new MvcEshop.Models.DFEntities())
                    {
                        strHtmlContent =
                            oDFEntities.Pages
                            .Where(current => current.PageId == 1)
                            .ToList().FirstOrDefault().PageContent;



                    }


                }
                @*@Html.Raw();*@
                @Html.Raw(strHtmlContent)
                @*همانندجویی در نوشتار پایان‌نامه‌ها و
                    رساله‌ها، گامی در کمک به نگه‌داشت حقوق پدیدآوران و گسترش علم و فناوری و زمینه‌سازی
                    برای دسترسی آزاد همگان به اطلاعات است. «همانندجو» با جست‌وجوی خودکار در متن کامل
                    پایان‌نامه‌ها و رساله‌های موجود در ایرانداک، نوشته‌های همانند را بازیابی و اندازه‌ی
                    همانندی و منبع اطلاعات همانند را نمایش می‌دهد. کاربران گرامی پس از ورود به سامانه،
                    می‌توانند نوشته‌های خود را بارگذاری و نتیجه‌ی همانندجویی را در کوتاه‌ترین زمان ممکن
                    دریافت کنند. برای آگاهی بیشتر
                    <a class="hyperLink" href="/Home/About" style="font-size: 10pt;">درباره‌ی سامانه</a>

                    را بخوانید یا با ما
                    <a class="hyperLink" href="/Home/ContactUs" style="font-size: 10pt;">تماس</a>
                    بگیرید.*@
            </div>

        </div>
    </div>

    <div class="@strCssClassForLoginDiv">

        <div class="box" style="min-height:316px;">
            <div>
                <div class="title">
                    ورود به سامانه
                </div>
            </div>
            <div class="form">



                @if (User.Identity.IsAuthenticated && Request.QueryString["ReturnUrl"] != null)
                {
                    <div class="alert alert-danger">
                        شما به بخش درخواست شده، دسترسی ندارید
                    </div>
                }




                @using (Html.BeginForm("Login", "User", new { ReturnUrl = ViewBag.ReturnUrl }, FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
                {
                    @Html.AntiForgeryToken()


                    <div class="container">

                        <div class=" form-horizontal">

                            @*<div id="divCaution">
                                    قبل از وارد نمودن گذرواژه به موارد زیر توجه فرمایید:
                                    <ol>
                                        <li>دقت نمایید که دکمه caps lock  حتما خاموش باشد.</li>
                                        <li>دقت نمایید که زبان  صفحه کلید انگلیسی باشد.</li>
                                    </ol>
                                </div>*@
                            <div class="validationMessage">
                                @Html.ValidationSummary(true)
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => model.Email, new { @class = "control-label col-md-2" })
                                <div class="inputControlWrapper">
                                    @Html.TextBoxFor(model => model.Email, new { @class = "form-control", @placeholder = "E-mail" })
                                    <div class="validationMessage">
                                        @Html.ValidationMessageFor(model => model.Email)
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                @Html.LabelFor(model => model.Password, new { @class = "control-label col-md-2" })
                                <div class="inputControlWrapper">
                                    @Html.TextBoxFor(model => model.Password, new { @type = "password", @class = "form-control", @placeholder = "Password" })
                                    <div class="validationMessage">
                                        @Html.ValidationMessageFor(model => model.Password)
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-md-2">
                                </div>
                                <div class="col-md-4 col-md-offset-1">
                                    @Html.EditorFor(model => model.RememberMe)
                                    @Html.LabelFor(model => model.RememberMe)
                                    <div class="validationMessage">
                                        @Html.ValidationMessageFor(model => model.RememberMe)
                                    </div>
                                </div>
                                <div class="col-md-1"><input type="submit" value=@Resources.DisplayNames.SignIn class="submit" /></div>
                            </div>

                            <div class="form-group" id="buttons">
                                <div class="FormButtonControlWrapper" style="margin-top:-1px;">
                                    @*<input type="submit" value=@Resources.DisplayNames.SignIn class="submit" />*@
                                    <span style="color:#000080;"> @Html.ActionLink(Resources.Messages.ForgotMyPassword, MVC.User.RecoverMyPassword())</span>
                                </div>
                                <div class="FormButtonControlWrapper" style="margin-top:-1px;">
                                    @*<input type="submit" value=@Resources.DisplayNames.SignIn class="submit" />*@
                                    <span style="color:#000080;"> @Html.ActionLink(Resources.DisplayNames.SignUp, MVC.User.SignUp())</span>
                                </div>
                            </div>

                        </div>
                    </div>
                }

            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {

        $("#lnkIndex").addClass("selected");

    });


</script>

