@model IEnumerable<MvcEshop.Models.Contract>

@{
    ViewBag.Title = Resources.DisplayNames.List+ " " + Resources.DisplayNames.Contracts;
    ViewBag.LayoutType = "Grid";
}


<div class="k-rtl">

    @(Html.Kendo().Grid(Model)
              .Name("Grid")
              .Columns(columns =>
                  {
                      columns.Bound(model => model.Customer.Name).Title(Resources.DisplayNames.Organization_Person).Width(120);
                      columns.Bound(model => model.DisplayIssueDate).Title(Resources.DisplayNames.Issue).Width(80);
                      columns.Bound(model => model.DisplayStartDate).Title(Resources.DisplayNames.Start).Width(80);
                      columns.Bound(model => model.DisplayExpirationDate).Title(Resources.DisplayNames.End).Width(80);
                      //columns.Bound(model => model.CustomerID);
                      //columns.Bound(model => model.Situation);
                      columns.Bound(model => model.VolumeInKBytes).Width(70);
                      columns.Bound(model => model.PriceInRials).Width(80);
                      //columns.Bound(model => model.History);
                      columns.Bound(item => @item.ContractId).Title(Resources.DisplayNames.Edit).Width(100).Filterable(false).Groupable(false)
                              .Template(@<text>

                            <a href="/Contract/Edit/@item.ContractId">
                                <img src="~/Content/Files/Icons/edit-file-icon.png" />
                            </a>

                            </text>).Width(50);


                      columns.Bound(item => @item.ContractId).Title(Resources.DisplayNames.Delete).Width(100).Filterable(false).Groupable(false)
                                            .Template(@<text>

                            <a href="/Contract/Delete/@item.ContractId">
                                <img src="~/Content/Files/Icons/Trash-empty-icon.png" />
                            </a>

                            @*@Html.ActionLink("حذف", "Delete", new { id = @item.ContractId }, new { @class = "k-button k-button-icontext k-grid-Delete" })*@

                                            </text>).Width(50);
                  })
                                                                                                                                    .ToolBar(toolbar =>
                                                                                                                                                {

                                                                                                                                                    toolbar.Template(@<text> <a href="/Contract/Create" class="btn btn-primary KendoGridToolbarButton" role="button">
                                                                                                                                                                                 <span class="glyphicon glyphicon-plus KendoGridToolbarButtonIcon"></span>  
                                                                                                                                                                     @Resources.DisplayNames.Add 
                                                                                                                                                            </a></text>);
                                                                                                                                                    //toolbar.Custom().Action("Create", "Contract").Text("افزودن");
                                                                                                                                                }
                                                                                                                                    )
                                                                                                                                    .Groupable()
                                                                                                                                    .Pageable()
                                                                                                                                    .Sortable()
                                                                                                                                    .Scrollable()
                                                                                                                                    .Filterable()
                                                                                                                                    .DataSource(dataSource => dataSource
                                                                                                                                                                .Server()

                                                                                                                                                                .Model(model => model.Id(item => item.ContractId))
                                                                                                                                                )
    )
</div>