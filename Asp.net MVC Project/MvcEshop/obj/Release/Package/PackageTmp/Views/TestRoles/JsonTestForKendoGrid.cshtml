@{
    ViewBag.Title = "LearningPureAjaxWithJson";
}

<h2>LearningPureAjaxWithJson</h2>

<div id="divMessage"></div>
@*<div><input type="text" id="Ali" /></div>
<div><input type="text" id="Mohammad" /></div>*@
<div><input type="text" id="LastName" /></div>
<div><input type="submit" class="JsonAction" id="Ali" /></div>
<div><input type="submit" class="JsonAction" id="Mohammad" /></div>

<script>
    $(document).ready(function () {
        $(".JsonAction").click(function (e) {
            var varId = e.target.id;

            //var varLastName = $("input#LastName").val();
            //var varFirstName = $("input#FirstName").val();


            var varData =
                '{"Id":"' + varId +  '"}';

            //var varData =
            //    '{"Id":"' + varId + '"}';

            $.ajax({
                type: "POST",
                url: "GetJson04",
                data: varData,
                dataType: "json",
                contentType: "application/json; charset=utf-8",

                success: function (e) {
                    $("#divMessage").text(e.MyMessage);



                },

                error: function (e) {
                    $("#divMessage").text("error on sending/recieving data!");

                }
        })
    })


    })
</script>

